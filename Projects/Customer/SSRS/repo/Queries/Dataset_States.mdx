SELECT 
  NON EMPTY { [Measures].[Customer Amount] } ON COLUMNS, 
  NON EMPTY IIF(
    @StateParameter = 'All', 
    [Dim State].[State ID].[State ID].ALLMEMBERS * [Dim State].[State Name].[State Name].ALLMEMBERS, 
    ([Dim State].[State ID].[State ID].&[@StateParameter] * [Dim State].[State Name].[State Name].&[@StateParameter])
  ) DIMENSION PROPERTIES MEMBER_CAPTION, MEMBER_VALUE, MEMBER_UNIQUE_NAME ON ROWS 
FROM 
  [CustomerDWH]
CELL PROPERTIES 
  VALUE, BACK_COLOR, FORE_COLOR, FORMATTED_VALUE, FORMAT_STRING, FONT_NAME, FONT_SIZE, FONT_FLAGS
